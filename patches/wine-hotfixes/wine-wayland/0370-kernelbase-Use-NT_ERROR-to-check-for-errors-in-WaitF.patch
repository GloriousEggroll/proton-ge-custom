From 86dc07067d06632c82c7fcdb9ec6523bde532ee7 Mon Sep 17 00:00:00 2001
From: Marc-Aurel Zent <mzent@codeweavers.com>
Date: Thu, 30 Oct 2025 21:42:58 +0100
Subject: [PATCH 370/486] kernelbase: Use NT_ERROR() to check for errors in
 WaitForMultipleObjectsEx.

---
 dlls/kernelbase/sync.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/dlls/kernelbase/sync.c b/dlls/kernelbase/sync.c
index 1a6beacf162..3c288a6df55 100644
--- a/dlls/kernelbase/sync.c
+++ b/dlls/kernelbase/sync.c
@@ -442,7 +442,7 @@ DWORD WINAPI DECLSPEC_HOTPATCH WaitForMultipleObjectsEx( DWORD count, const HAND
 
     status = NtWaitForMultipleObjects( count, hloc, !wait_all, alertable,
                                        get_nt_timeout( &time, timeout ) );
-    if (HIWORD(status))  /* is it an error code? */
+    if (NT_ERROR(status))
     {
         SetLastError( RtlNtStatusToDosError(status) );
         status = WAIT_FAILED;
-- 
2.53.0

